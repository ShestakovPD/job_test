

Задание

Регистрация и авторизация

Написать формы регистрации и авторизации:

 1. В форме регистрации пользователь должен указать Имя, почту, пароль и повтор пароля.

форма регистрации - domains\job\app\View\User\register.phtml

 2. Почта должна быть уникальна и если такая в базе уже есть - уведомлять пользователя об этом.

domains\job\app\Model\User.php -> метод getByEmail получает из базы все имеющиеся там е-мейлы.

domains\job\app\Controller\User.php -> метод registerAction
    
( проверяет полученные данные регистрирующегося юзера на совпадение по email,
и в случае совпадения уведомляет пользователя об этом )
->
           $user = UserModel::getByEmail($email);
            if ($user) {
                $this->view->assign('error', 'Пользователь с таким email-ом уже существует');
                $success = false;
            }

 3. Пароли в обеих полях должны совпадать, иначе уведомлять пользователя об этом.

domains\job\app\Controller\User.php -> метод registerAction

            if ($password != $password_r) {
                $this->view->assign('error', 'Пароль не подтвержден');
                $success = false;
            }

 4. Авторизованные пользователи могут авторизоваться в форме авторизации и получить сообщение об успешной авторизации.

форма авторизации и регистрации совмещена - domains\job\app\View\User\register.phtml

domains\job\app\Controller\User.php -> метод loginAction

User     - Pavel 
password - 12345.

Велосипеды в учебных целях это хорошо, но мне кажется что реализация авторизации регистрации 
из коробки во фреймворке LARAVEL применима во многих случаях.



Стартовая страница %URL%/
1. Модель пользователя  App\Model\User.php
2. Реализация сохранения модели в БД и получение модели из базы, там же.
База loftmvcdb.sql
3. Регистрация и авторизация пользователя реализована в 
App\Model\User.php App\Controller\User.php.
4. Модель сообщения App\Model\Blog.php
5. Реализация блога App\Model\Blog.php App\Controller\Blog.php.
6. Api метод реализован в App\Model\Blog.php App\Controller\Blog.php.
методами - apiAction(); getAllById.
7. Константа с ID администратора расположена в файле конфига БД и является ID
назначенного юзера. Только админ видит кнопку удалить во всех выводимых сообщениях,
и реализует функционал по их удалению.
